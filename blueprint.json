{
  "_meta": {
    "filename": "blueprint.json",
    "maintenance_instruction": "KEEP THIS PLAN UP TO DATE AS YOU EVOLVE THE CODE. DEVIATIONS TO THE PLAN MUST BE LOGGED WITHIN THE PLAN. THE PLAN MUST BE REASSESSED HOLISTICALLY AFTER ANY CHANGE OF ANY SIZE.",
    "answering_the_question_are_you_done": "YOU ARE NOT DONE UNTIL 100% OF TASKS IN THIS BLUEPRINT ARE COMPLETE. THIS IS AN EXHAUSTIVE LIST - EVERY TASK MUST BE COMPLETED FOR PRODUCTION READINESS.",
    "last_updated": "2026-02-06",
    "ultimate_goal": "Expose a 100% complete best-in-class computer use gRPC API for macOS, alongside an optimal, industry-leading portable, flexible, and feature-complete MCP server implementation, verified against industry-standard mechanisms to ensure robustness and correctness."
  },
  "status_section": {
    "current_state": "API proto verification (API-001 through API-025) completed - verifying Swift server implementation (SWIFT-001 through SWIFT-020)",
    "remaining_work": [
      "Swift server implementation verification",
      "Integration test coverage expansion",
      "Production hardening and security audit",
      "Documentation completion",
      "CI/CD pipeline validation"
    ]
  },
  "sequential_tasks": [
    {
      "id": "API-001",
      "task": "Verify all proto files have proper syntax declaration and package naming",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "All proto files use 'syntax = \"proto3\"' and correct package 'macosusesdk.v1'"
    },
    {
      "id": "API-002",
      "task": "Verify all resources have google.api.resource annotations with type, pattern, singular, plural",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "Application, Window, WindowState, Input, Observation, Session, Macro, Display, Clipboard all have complete resource annotations"
    },
    {
      "id": "API-003",
      "task": "Verify all resource references use correct google.api.resource_reference types",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "Get/List requests reference correct resource types without inconsistencies"
    },
    {
      "id": "API-004",
      "task": "Verify all List RPCs implement AIP-158 pagination with page_size, page_token, next_page_token",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "ListApplications, ListWindows, ListInputs, ListObservations, ListSessions, ListMacros, ListDisplays have pagination fields"
    },
    {
      "id": "API-005",
      "task": "Verify all page_token and next_page_token fields have 'opaque' documentation comments",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "Every pagination token field comment states 'This token is opaque and its structure must not be relied upon by clients'"
    },
    {
      "id": "API-006",
      "task": "Verify all RPCs have google.api.http annotations for REST gateway",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "Every RPC has http option with correct verb (get/post/patch/delete), path, and body mapping"
    },
    {
      "id": "API-007",
      "task": "Verify all request/response messages have google.api.field_behavior annotations",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "REQUIRED, OPTIONAL, OUTPUT_ONLY, IDENTIFIER correctly applied to all fields"
    },
    {
      "id": "API-008",
      "task": "Verify long-running operations have google.longrunning.operation_info with response_type and metadata_type",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "OpenApplication, WaitElement, WaitElementState, CreateObservation, ExecuteMacro have complete operation_info"
    },
    {
      "id": "API-009",
      "task": "Verify Display message has all required fields: display_id, frame, visible_frame, is_main, scale",
      "file": "proto/macosusesdk/v1/display.proto",
      "status": "completed",
      "verification": "Display message includes all five fields with correct types and OUTPUT_ONLY behavior"
    },
    {
      "id": "API-010",
      "task": "Verify Window.bounds field has coordinate system documentation",
      "file": "proto/macosusesdk/v1/window.proto",
      "status": "completed",
      "verification": "Bounds comment specifies 'Global Display Coordinates (top-left origin, Y increases downward)'"
    },
    {
      "id": "API-011",
      "task": "Verify all coordinate-related fields in proto specify Global Display Coordinates",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "MoveWindowRequest.x/y, ResizeWindowRequest.width/height, Region.x/y/width/height, all have coordinate documentation"
    },
    {
      "id": "API-012",
      "task": "Verify Input message x/y fields document coordinate system",
      "file": "proto/macosusesdk/v1/input.proto",
      "status": "completed",
      "verification": "Input coordinates specified as Global Display Coordinates (top-left origin)"
    },
    {
      "id": "API-013",
      "task": "Verify Element frame fields document coordinate system",
      "file": "proto/macosusesdk/type/element.proto",
      "status": "completed",
      "verification": "Element.x/y/width/height fields specify Global Display Coordinates"
    },
    {
      "id": "API-014",
      "task": "Verify Region message documents coordinate system",
      "file": "proto/macosusesdk/type/geometry.proto",
      "status": "completed",
      "verification": "Region comment specifies 'Global Display Coordinates (top-left origin, Y increases downward)'"
    },
    {
      "id": "API-015",
      "task": "Verify all CRUD methods follow standard naming patterns (Get/List/Create/Update/Delete)",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "completed",
      "verification": "All resource methods use standard CRUD names except for custom actions (FocusWindow, MoveWindow, etc.)"
    },
    {
      "id": "API-016",
      "task": "Verify Screenshot RPCs support all formats: PNG, JPEG, TIFF with quality parameter",
      "file": "proto/macosusesdk/v1/screenshot.proto",
      "status": "completed",
      "verification": "CaptureScreenshotRequest, CaptureWindowScreenshotRequest have format enum and quality field"
    },
    {
      "id": "API-017",
      "task": "Verify ClipboardContent message supports all types: text, image, RTF, HTML, URL, files",
      "file": "proto/macosusesdk/v1/clipboard.proto",
      "status": "completed",
      "verification": "ClipboardContent oneof includes text, rtf, html, image, files, url"
    },
    {
      "id": "API-018",
      "task": "Verify Script RPCs support AppleScript, JXA, ShellCommand execution",
      "file": "proto/macosusesdk/v1/script.proto",
      "status": "completed",
      "verification": "ExecuteAppleScript, ExecuteJavaScript, ExecuteShellCommand RPCs defined"
    },
    {
      "id": "API-019",
      "task": "Verify File dialog RPCs support open, save, select, directory, drag-drop",
      "file": "proto/macosusesdk/v1/file.proto",
      "status": "completed",
      "verification": "AutomateOpenFileDialog, AutomateSaveFileDialog, SelectFile, SelectDirectory, DragFiles RPCs defined"
    },
    {
      "id": "API-020",
      "task": "Verify Macro RPCs support parameter_values for parameterized execution",
      "file": "proto/macosusesdk/v1/macro.proto",
      "status": "completed",
      "verification": "ExecuteMacroRequest has map<string, string> parameter_values field"
    },
    {
      "id": "API-021",
      "task": "Verify Session RPCs support transaction methods: Begin/Commit/Rollback",
      "file": "proto/macosusesdk/v1/session.proto",
      "status": "completed",
      "verification": "BeginTransaction, CommitTransaction, RollbackTransaction RPCs with IsolationLevel enum"
    },
    {
      "id": "API-022",
      "task": "Verify Observation RPCs support creation, streaming, and cancellation",
      "file": "proto/macosusesdk/v1/observation.proto",
      "status": "completed",
      "verification": "CreateObservation, StreamObservations, CancelObservation RPCs defined"
    },
    {
      "id": "API-023",
      "task": "Verify Element selector types support all filtering criteria",
      "file": "proto/macosusesdk/type/selector.proto",
      "status": "completed",
      "verification": "ElementSelector includes role, text, title, identifier, enabled, focused filters"
    },
    {
      "id": "API-024",
      "task": "Verify Element condition types support all state conditions",
      "file": "proto/macosusesdk/v1/condition.proto",
      "status": "completed",
      "verification": "StateCondition includes enabled, focused, text_equals, text_contains, attribute conditions"
    },
    {
      "id": "API-025",
      "task": "Verify Input message supports modifiers, special_keys, mouse_click, mouse_drag",
      "file": "proto/macosusesdk/v1/input.proto",
      "status": "completed",
      "verification": "Input message has modifiers, special_keys, mouse_click, mouse_drag fields"
    },
    {
      "id": "GO-001",
      "task": "Verify all Go handlers implement error wrapping with fmt.Errorf and %w",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "All handler errors use proper error wrapping for stack traces"
    },
    {
      "id": "GO-002",
      "task": "Verify all Go handlers implement context propagation and timeout",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "All handlers use context.WithTimeout and respect context cancellation"
    },
    {
      "id": "GO-003",
      "task": "Verify all Go handler functions return ToolResult with proper content formatting",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "All handlers return Content[] with Type=Text or Image, no raw error returns"
    },
    {
      "id": "GO-004",
      "task": "Verify MCP tool schema matches proto request/response structure",
      "file": "internal/server/mcp.go",
      "status": "pending",
      "verification": "77 tool inputSchemas match corresponding proto request messages"
    },
    {
      "id": "GO-005",
      "task": "Verify all Go tests use PollUntil instead of time.Sleep for waiting",
      "file": "internal/server/*_test.go",
      "status": "pending",
      "verification": "No time.Sleep calls, all waiting uses PollUntilContext pattern"
    },
    {
      "id": "GO-006",
      "task": "Verify all Go tests implement state-difference assertions for mutators",
      "file": "internal/server/*_test.go",
      "status": "pending",
      "verification": "Click/Move/Resize tests verify delta by calling accessor RPC after mutator"
    },
    {
      "id": "GO-007",
      "task": "Verify all Go unit tests pass with go test -race flag",
      "file": "internal/",
      "status": "pending",
      "verification": "All Go tests pass with -race flag, no race conditions detected"
    },
    {
      "id": "GO-008",
      "task": "Verify go vet passes with zero issues",
      "file": "internal/",
      "status": "pending",
      "verification": "go vet ./... returns zero issues"
    },
    {
      "id": "GO-009",
      "task": "Verify staticcheck passes with zero issues",
      "file": "internal/",
      "status": "pending",
      "verification": "staticcheck ./... returns zero issues"
    },
    {
      "id": "GO-010",
      "task": "Verify all exported Go functions have godoc comments",
      "file": "internal/",
      "status": "pending",
      "verification": "godoc generates complete documentation for all public APIs"
    },
    {
      "id": "SWIFT-001",
      "task": "Verify AppStateStore implements copy-on-write view pattern",
      "file": "Server/Sources/MacosUseServer/AppStateStore.swift",
      "status": "pending",
      "verification": "AppStateStore provides thread-safe read-only views for query operations"
    },
    {
      "id": "SWIFT-002",
      "task": "Verify WindowRegistry manages CGWindowID to window mapping",
      "file": "Server/Sources/MacosUseServer/WindowRegistry.swift",
      "status": "pending",
      "verification": "WindowRegistry tracks window lifecycle and provides ID mapping"
    },
    {
      "id": "SWIFT-003",
      "task": "Verify ObservationManager handles observation lifecycle",
      "file": "Server/Sources/MacosUseServer/ObservationManager.swift",
      "status": "pending",
      "verification": "ObservationManager manages creation, streaming, and cancellation of observations"
    },
    {
      "id": "SWIFT-004",
      "task": "Verify SessionManager handles session creation and transactions",
      "file": "Server/Sources/MacosUseServer/SessionManager.swift",
      "status": "pending",
      "verification": "SessionManager tracks active sessions and their state"
    },
    {
      "id": "SWIFT-005",
      "task": "Verify ElementRegistry manages element lifecycle",
      "file": "Server/Sources/MacosUseServer/ElementRegistry.swift",
      "status": "pending",
      "verification": "ElementRegistry tracks AXUIElementRef to element mapping"
    },
    {
      "id": "SWIFT-006",
      "task": "Verify InputMethods creates CGEventRef and uses CGEventPost",
      "file": "Server/Sources/MacosUseServer/InputMethods.swift",
      "status": "pending",
      "verification": "InputMethods creates CGEvent for keyboard/mouse input"
    },
    {
      "id": "SWIFT-007",
      "task": "Verify Accessibility integration uses AXUIElementCreateApplication without CGWindow pre-checks",
      "file": "Server/Sources/MacosUseServer/ElementMethods.swift",
      "status": "pending",
      "verification": "AX actions attempted directly, errors handled not pre-checked with CGWindow APIs"
    },
    {
      "id": "SWIFT-008",
      "task": "Verify ClipboardMethods calls pasteboard.clearContents() before every write",
      "file": "Server/Sources/MacosUseServer/ClipboardMethods.swift",
      "status": "pending",
      "verification": "WriteClipboard clears pasteboard before writing new content"
    },
    {
      "id": "SWIFT-009",
      "task": "Verify CaptureMethods uses CGWindowListCreateImage or CGDisplayCreateImage",
      "file": "Server/Sources/MacosUseServer/CaptureMethods.swift",
      "status": "pending",
      "verification": "Screenshot capture uses Core Graphics APIs"
    },
    {
      "id": "SWIFT-010",
      "task": "Verify DisplayMethods uses CGGetOnlineDisplayList for enumeration",
      "file": "Server/Sources/MacosUseServer/DisplayMethods.swift",
      "status": "pending",
      "verification": "ListDisplays uses CGGetOnlineDisplayList for display enumeration"
    },
    {
      "id": "SWIFT-011",
      "task": "Verify WindowMethods uses CGWindowListCopyWindowInfo for enumeration",
      "file": "Server/Sources/MacosUseServer/WindowMethods.swift",
      "status": "pending",
      "verification": "Window enumeration uses CGWindowListCopyWindowInfo"
    },
    {
      "id": "SWIFT-012",
      "task": "Verify FileDialogMethods uses NSOpenPanel/NSSavePanel with AX actions",
      "file": "Server/Sources/MacosUseServer/FileDialogMethods.swift",
      "status": "pending",
      "verification": "File dialog automation uses native Cocoa dialogs"
    },
    {
      "id": "SWIFT-013",
      "task": "Verify ScriptExecutor uses NSAppleScript with timeout enforcement",
      "file": "Server/Sources/MacosUseServer/ScriptExecutor.swift",
      "status": "pending",
      "verification": "Script execution has configurable timeout"
    },
    {
      "id": "SWIFT-014",
      "task": "Verify MacroExecutor replays actions with configurable speed",
      "file": "Server/Sources/MacosUseServer/MacroExecutor.swift",
      "status": "pending",
      "verification": "Macro execution supports speed multiplier parameter"
    },
    {
      "id": "SWIFT-015",
      "task": "Verify Logger usage with OSLogPrivacy in all Swift server components",
      "file": "Server/Sources/MacosUseServer/",
      "status": "pending",
      "verification": "All log statements use Logger with privacy annotations for sensitive values"
    },
    {
      "id": "SWIFT-016",
      "task": "Verify no fputs or unannotated print in Swift server components",
      "file": "Server/Sources/MacosUseServer/",
      "status": "pending",
      "verification": "No fputs usage, diagnostic logs use Logger"
    },
    {
      "id": "SWIFT-017",
      "task": "Verify Swift package compiles with -warnings-as-errors",
      "file": "Server/",
      "status": "pending",
      "verification": "Swift compilation emits no warnings as errors"
    },
    {
      "id": "SWIFT-018",
      "task": "Verify all Swift unit tests pass with XCTest",
      "file": "Server/Tests/",
      "status": "pending",
      "verification": "All Swift tests in Server/Tests pass"
    },
    {
      "id": "SWIFT-019",
      "task": "Verify gRPC reflection service is registered and functional",
      "file": "Server/Sources/MacosUseServer/main.swift",
      "status": "pending",
      "verification": "ReflectionService added to services array, grpcurl can list all RPCs"
    },
    {
      "id": "SWIFT-020",
      "task": "Verify SIGTERM handler for graceful shutdown",
      "file": "Server/Sources/MacosUseServer/main.swift",
      "status": "pending",
      "verification": "Server handles SIGTERM and performs clean shutdown"
    },
    {
      "id": "TEST-001",
      "task": "Verify integration test server lifecycle management (start/stop/cleanup)",
      "file": "integration/main_test.go",
      "status": "pending",
      "verification": "TestMain handles pre/post cleanup, server starts and stops correctly"
    },
    {
      "id": "TEST-002",
      "task": "Verify dynamic port allocation prevents EADDRINUSE errors",
      "file": "integration/main_test.go",
      "status": "pending",
      "verification": "Integration tests use getAvailablePort() for port allocation"
    },
    {
      "id": "TEST-003",
      "task": "Verify waitForPortAvailable with exponential backoff",
      "file": "integration/main_test.go",
      "status": "pending",
      "verification": "Port release polling uses exponential backoff"
    },
    {
      "id": "TEST-004",
      "task": "Verify goroutine cleanup in observation streaming tests",
      "file": "integration/observation_test.go",
      "status": "pending",
      "verification": "No goroutine leaks via runtime.NumGoroutine() check"
    },
    {
      "id": "TEST-005",
      "task": "Verify retry behavior test for transient failures",
      "file": "integration/retry_test.go",
      "status": "pending",
      "verification": "Test verifies exponential backoff and max retry count"
    },
    {
      "id": "TEST-006",
      "task": "Verify HTTPS/TLS transport test",
      "file": "integration/http_transport_test.go",
      "status": "pending",
      "verification": "TLS connection established, certificate verified"
    },
    {
      "id": "TEST-007",
      "task": "Verify concurrent observation streams stresses test",
      "file": "integration/observation_test.go",
      "status": "pending",
      "verification": "Multiple concurrent streams handled without deadlock"
    },
    {
      "id": "TEST-008",
      "task": "Verify end-to-end workflow test (open app, interact, file dialog)",
      "file": "integration/calculator_test.go",
      "status": "pending",
      "verification": "Complete user workflow exercised from start to finish"
    },
    {
      "id": "TEST-009",
      "task": "Verify performance regression test with timing baseline",
      "file": "integration/window_metadata_test.go",
      "status": "pending",
      "verification": "Baseline timing established for core operations"
    },
    {
      "id": "TEST-010",
      "task": "Verify error scenario tests (network failures, permission denial, app crash)",
      "file": "integration/error_scenarios_test.go",
      "status": "pending",
      "verification": "All error paths tested with expected client behavior"
    },
    {
      "id": "TEST-011",
      "task": "Verify multi-monitor test for negative coordinates and display switching",
      "file": "integration/display_test.go",
      "status": "pending",
      "verification": "Coordinates handled correctly across display boundaries"
    },
    {
      "id": "TEST-012",
      "task": "Verify accessibility edge case test (invisible elements, stale AX handles)",
      "file": "integration/element_test.go",
      "status": "pending",
      "verification": "Edge cases handled gracefully without crashes"
    },
    {
      "id": "TEST-013",
      "task": "Verify clipboard format edge case test (images, RTF, HTML, empty)",
      "file": "integration/clipboard_test.go",
      "status": "pending",
      "verification": "All clipboard formats handled correctly"
    },
    {
      "id": "TEST-014",
      "task": "Verify observability test for /metrics endpoint",
      "file": "integration/mcp_protocol_test.go",
      "status": "pending",
      "verification": "Metrics endpoint returns valid Prometheus format"
    },
    {
      "id": "TEST-015",
      "task": "Verify CORS header validation test",
      "file": "integration/http_transport_test.go",
      "status": "pending",
      "verification": "CORS headers set correctly per configuration"
    },
    {
      "id": "TEST-016",
      "task": "Verify rate limiting test (token bucket, 429 responses)",
      "file": "integration/mcp_protocol_test.go",
      "status": "pending",
      "verification": "Rate limit enforced, Retry-After header present"
    },
    {
      "id": "TEST-017",
      "task": "Verify session transaction rollback test",
      "file": "integration/session_test.go",
      "status": "pending",
      "verification": "Rollback restores pre-transaction state"
    },
    {
      "id": "TEST-018",
      "task": "Verify macro execution parameterization test",
      "file": "integration/macro_test.go",
      "status": "pending",
      "verification": "Macro placeholders replaced with parameter values"
    },
    {
      "id": "TEST-019",
      "task": "Verify resource cleanup test (no orphaned windows/observations/sessions)",
      "file": "integration/lifecycle_test.go",
      "status": "pending",
      "verification": "No orphaned resources after test suite"
    },
    {
      "id": "TEST-020",
      "task": "Verify concurrency stress test for concurrent window operations",
      "file": "integration/window_test.go",
      "status": "pending",
      "verification": "Concurrent operations without race conditions"
    },
    {
      "id": "TEST-021",
      "task": "Verify streaming backpressure test (pause/resume observation stream)",
      "file": "integration/observation_test.go",
      "status": "pending",
      "verification": "Backpressure handled without dropping events"
    },
    {
      "id": "TEST-022",
      "task": "Verify API key authentication test (constant-time comparison, 401 responses)",
      "file": "integration/mcp_protocol_test.go",
      "status": "pending",
      "verification": "API key auth enforced with constant-time comparison"
    },
    {
      "id": "TEST-023",
      "task": "Verify file dialog automation test",
      "file": "integration/file_test.go",
      "status": "pending",
      "verification": "File dialogs handled correctly"
    },
    {
      "id": "TEST-024",
      "task": "Verify all MCP tools have schema validation in tests",
      "file": "integration/mcp_tools_test.go",
      "status": "pending",
      "verification": "All 77 tools have input params and return type validation"
    },
    {
      "id": "TEST-025",
      "task": "Verify long-running operations timeout and cancellation test",
      "file": "integration/lifecycle_test.go",
      "status": "pending",
      "verification": "LRO respects timeout and cancellation"
    },
    {
      "id": "TEST-026",
      "task": "Verify memory leak testing with heap profilers",
      "file": "integration/",
      "status": "pending",
      "verification": "No memory leaks detected in multiple test runs"
    },
    {
      "id": "TEST-027",
      "task": "Verify clipboard history test (max entries, oldest eviction)",
      "file": "integration/clipboard_test.go",
      "status": "pending",
      "verification": "Clipboard history works with eviction"
    },
    {
      "id": "TEST-028",
      "task": "Verify gRPC connection pool handling",
      "file": "internal/transport/",
      "status": "pending",
      "verification": "Connection pool handles concurrency correctly"
    },
    {
      "id": "TEST-029",
      "task": "Verify accessibility tree versioning test",
      "file": "integration/element_test.go",
      "status": "pending",
      "verification": "Accessibility tree changes detected accurately"
    },
    {
      "id": "TEST-030",
      "task": "Verify screenshot format conversion test (PNG, JPEG, TIFF)",
      "file": "integration/screenshot_test.go",
      "status": "pending",
      "verification": "All screenshot formats generated correctly"
    },
    {
      "id": "TEST-031",
      "task": "Verify input validation test for extreme values",
      "file": "integration/coordinate_validation_test.go",
      "status": "pending",
      "verification": "Extreme input values handled with clear errors"
    },
    {
      "id": "TEST-032",
      "task": "Verify display hotplug test (add/remove display during server running)",
      "file": "integration/display_test.go",
      "status": "pending",
      "verification": "Server handles display hotplug events cleanly"
    },
    {
      "id": "TEST-033",
      "task": "Verify AppleScript error handling test",
      "file": "integration/scripting_test.go",
      "status": "pending",
      "verification": "AppleScript errors caught and returned clearly"
    },
    {
      "id": "TEST-034",
      "task": "Verify JXA error handling test",
      "file": "integration/scripting_test.go",
      "status": "pending",
      "verification": "JXA errors caught and returned clearly"
    },
    {
      "id": "TEST-035",
      "task": "Verify all TODO/FIXME comments have associated issues",
      "file": "internal/, Server/, Sources/",
      "status": "pending",
      "verification": "No TODO/FIXME in production code without tracking"
    },
    {
      "id": "TEST-036",
      "task": "Verify application lifecycle test (launch, interact, quit, restart)",
      "file": "integration/calculator_test.go",
      "status": "pending",
      "verification": "Application lifecycle handled correctly"
    },
    {
      "id": "TEST-037",
      "task": "Verify workspace/desktop switching test across Spaces",
      "file": "integration/window_test.go",
      "status": "pending",
      "verification": "Operations work correctly across macOS Spaces"
    },
    {
      "id": "TEST-038",
      "task": "Verify all error codes follow conventional patterns",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "Error codes follow conventions, no duplicates"
    },
    {
      "id": "TEST-039",
      "task": "Verify script timeout enforcement test",
      "file": "integration/scripting_test.go",
      "status": "pending",
      "verification": "Scripts terminated on timeout, resources cleaned"
    },
    {
      "id": "TEST-040",
      "task": "Verify wait element timeout behavior test",
      "file": "integration/element_test.go",
      "status": "pending",
      "verification": "Wait operations timeout correctly"
    },
    {
      "id": "TEST-041",
      "task": "Verify gRPC reflection service lists all RPCs correctly",
      "file": "Server/Sources/MacosUseServer/main.swift",
      "status": "pending",
      "verification": "grpcurl lists all services via reflection"
    },
    {
      "id": "TEST-042",
      "task": "Verify window ID regeneration handling test",
      "file": "integration/window_test.go",
      "status": "pending",
      "verification": "ID regeneration after window mutations handled"
    },
    {
      "id": "TEST-043",
      "task": "Verify element attribute change detection test",
      "file": "integration/element_test.go",
      "status": "pending",
      "verification": "Attribute changes detected correctly"
    },
    {
      "id": "LINT-001",
      "task": "Run api-linter and verify no violations",
      "file": "proto/",
      "status": "pending",
      "verification": "api-linter passes with zero errors"
    },
    {
      "id": "LINT-002",
      "task": "Run buf lint and verify no violations",
      "file": "proto/",
      "status": "pending",
      "verification": "buf lint passes with zero errors"
    },
    {
      "id": "LINT-003",
      "task": "Verify proto generation produces valid Go code",
      "file": "gen/go/",
      "status": "pending",
      "verification": "Generated Go code compiles without errors"
    },
    {
      "id": "LINT-004",
      "task": "Verify proto generation produces valid Swift code",
      "file": "Server/Sources/MacosUseProto/",
      "status": "pending",
      "verification": "Generated Swift code compiles without errors"
    },
    {
      "id": "LINT-005",
      "task": "Run buf generate and verify up-to-date",
      "file": "proto/",
      "status": "pending",
      "verification": "buf generate produces no diff from current generated code"
    },
    {
      "id": "DOC-001",
      "task": "Verify coordinate system documentation in API reference",
      "file": "docs/10-api-reference.md",
      "status": "pending",
      "verification": "All coordinate references specify Global Display Coordinates"
    },
    {
      "id": "DOC-002",
      "task": "Verify all environment variables documented with defaults and examples",
      "file": "docs/10-api-reference.md",
      "status": "pending",
      "verification": "All 18 env vars documented with type, default, example"
    },
    {
      "id": "DOC-003",
      "task": "Verify error code reference in API documentation",
      "file": "docs/10-api-reference.md",
      "status": "pending",
      "verification": "All error codes documented with causes and fixes"
    },
    {
      "id": "DOC-004",
      "task": "Verify resource naming conventions documented",
      "file": "docs/10-api-reference.md",
      "status": "pending",
      "verification": "Resource naming patterns documented"
    },
    {
      "id": "DOC-005",
      "task": "Verify window state management documentation",
      "file": "docs/02-window-state-management.md",
      "status": "pending",
      "verification": "WindowRegistry, AX authority, CGWindowList roles documented"
    },
    {
      "id": "DOC-006",
      "task": "Verify MCP integration documentation",
      "file": "docs/05-mcp-integration.md",
      "status": "pending",
      "verification": "MCP transport specs and compliance documented"
    },
    {
      "id": "DOC-007",
      "task": "Verify MCP tool design documentation",
      "file": "docs/06-mcp-tool-design.md",
      "status": "pending",
      "verification": "Tool design patterns documented"
    },
    {
      "id": "DOC-008",
      "task": "Verify security hardening documentation",
      "file": "docs/09-security-hardening.md",
      "status": "pending",
      "verification": "Security considerations documented"
    },
    {
      "id": "DOC-009",
      "task": "Verify deployment documentation",
      "file": "docs/08-production-deployment.md",
      "status": "pending",
      "verification": "Deployment procedures documented"
    },
    {
      "id": "DOC-010",
      "task": "Verify CLI documentation",
      "file": "cmd/macos-use-mcp/README.md",
      "status": "pending",
      "verification": "CLI usage documented with all flags"
    },
    {
      "id": "DOC-011",
      "task": "Verify all proto messages have descriptive comments",
      "file": "proto/macosusesdk/v1/*.proto",
      "status": "pending",
      "verification": "All exported types and services have descriptive comments"
    },
    {
      "id": "DOC-012",
      "task": "Verify README.md is complete and accurate",
      "file": "README.md",
      "status": "pending",
      "verification": "README covers installation, usage, and examples"
    },
    {
      "id": "DOC-013",
      "task": "Verify CONTRIBUTING.md is complete",
      "file": "CONTRIBUTING.md",
      "status": "pending",
      "verification": "Contribution guidelines documented"
    },
    {
      "id": "DOC-014",
      "task": "Verify DEPLOYMENT.md is complete",
      "file": "DEPLOYMENT.md",
      "status": "pending",
      "verification": "Deployment procedures documented"
    },
    {
      "id": "DOC-015",
      "task": "Verify CHANGELOG.md is complete",
      "file": "CHANGELOG.md",
      "status": "pending",
      "verification": "All changes documented with versions"
    },
    {
      "id": "SEC-001",
      "task": "Run Go sec vulnerability scan",
      "file": "go.mod",
      "status": "pending",
      "verification": "go sec passes with zero high-severity vulnerabilities"
    },
    {
      "id": "SEC-002",
      "task": "Run Swift package audit",
      "file": "Package.swift",
      "status": "pending",
      "verification": "All Swift packages audited, no vulnerabilities"
    },
    {
      "id": "SEC-003",
      "task": "Verify shell command security (injection prevention)",
      "file": "internal/server/scripting.go",
      "status": "pending",
      "verification": "Shell command injection attempts blocked"
    },
    {
      "id": "SEC-004",
      "task": "Verify API key constant-time comparison",
      "file": "internal/transport/http.go",
      "status": "pending",
      "verification": "API key comparison uses constant-time algorithm"
    },
    {
      "id": "SEC-005",
      "task": "Verify TLS configuration is secure",
      "file": "internal/config/config.go",
      "status": "pending",
      "verification": "TLS settings follow security best practices"
    },
    {
      "id": "SEC-006",
      "task": "Verify audit logging captures tool calls",
      "file": "internal/server/audit.go",
      "status": "pending",
      "verification": "Audit log records tool invocations with metadata"
    },
    {
      "id": "SEC-007",
      "task": "Verify no hardcoded credentials in code",
      "file": "internal/, Server/, Sources/",
      "status": "pending",
      "verification": "No hardcoded passwords, keys, or tokens"
    },
    {
      "id": "SEC-008",
      "task": "Verify input sanitization for all user inputs",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "All user inputs validated and sanitized"
    },
    {
      "id": "PERF-001",
      "task": "Add benchmark tests for ListWindows",
      "file": "internal/server/window_test.go",
      "status": "pending",
      "verification": "Benchmark establishes baseline timing"
    },
    {
      "id": "PERF-002",
      "task": "Add benchmark tests for FindElements",
      "file": "internal/server/element_test.go",
      "status": "pending",
      "verification": "Benchmark establishes baseline timing"
    },
    {
      "id": "PERF-003",
      "task": "Add benchmark tests for Click operation",
      "file": "internal/server/input_test.go",
      "status": "pending",
      "verification": "Benchmark establishes baseline timing"
    },
    {
      "id": "PERF-004",
      "task": "Verify all error messages are actionable",
      "file": "internal/server/*.go",
      "status": "pending",
      "verification": "Error messages provide clear next steps"
    },
    {
      "id": "PERF-005",
      "task": "Verify response time for ListWindows is under 50ms",
      "file": "internal/server/window.go",
      "status": "pending",
      "verification": "ListWindows uses registry-only for performance"
    },
    {
      "id": "CI-001",
      "task": "Verify CI passes with all tests",
      "file": ".github/workflows/ci.yaml",
      "status": "pending",
      "verification": "GitHub Actions CI passes with all green checks"
    },
    {
      "id": "CI-002",
      "task": "Verify go test with -race in CI",
      "file": ".github/workflows/ci.yaml",
      "status": "pending",
      "verification": "CI runs with race detection enabled"
    },
    {
      "id": "CI-003",
      "task": "Verify swift test in CI",
      "file": ".github/workflows/ci.yaml",
      "status": "pending",
      "verification": "Swift tests run in CI pipeline"
    },
    {
      "id": "CI-004",
      "task": "Verify proto lint in CI",
      "file": ".github/workflows/ci.yaml",
      "status": "pending",
      "verification": "Proto lint runs in CI pipeline"
    },
    {
      "id": "CI-005",
      "task": "Verify all tests complete within timeout in CI",
      "file": ".github/workflows/ci.yaml",
      "status": "pending",
      "verification": "Integration tests complete under 600s timeout"
    },
    {
      "id": "CI-006",
      "task": "Verify Dependabot configured for Go dependencies",
      "file": ".github/dependabot.yml",
      "status": "pending",
      "verification": "Dependabot configured and scanning"
    },
    {
      "id": "CI-007",
      "task": "Verify all lint checks pass locally",
      "file": "Makefile",
      "status": "pending",
      "verification": "make lint passes locally before commit"
    },
    {
      "id": "CI-008",
      "task": "Verify make all target passes locally",
      "file": "Makefile",
      "status": "pending",
      "verification": "make all passes without errors"
    },
    {
      "id": "BUILD-001",
      "task": "Verify Go modules are tidy",
      "file": "go.mod",
      "status": "pending",
      "verification": "go mod tidy produces no changes"
    },
    {
      "id": "BUILD-002",
      "task": "Verify Swift package resolves correctly",
      "file": "Server/Package.resolved",
      "status": "pending",
      "verification": "swift package resolve produces no changes"
    },
    {
      "id": "BUILD-003",
      "task": "Verify integration tests can build",
      "file": "integration/go.mod",
      "status": "pending",
      "verification": "go build ./integration/ succeeds"
    },
    {
      "id": "BUILD-004",
      "task": "Verify macos-use-mcp CLI builds",
      "file": "cmd/macos-use-mcp/main.go",
      "status": "pending",
      "verification": "go build ./cmd/macos-use-mcp/ succeeds"
    },
    {
      "id": "BUILD-005",
      "task": "Verify Server release build succeeds",
      "file": "Server/",
      "status": "pending",
      "verification": "swift build --configuration release succeeds"
    },
    {
      "id": "BUILD-006",
      "task": "Verify descriptor sets generated for gRPC reflection",
      "file": "Server/Resources/DescriptorSets/",
      "status": "pending",
      "verification": "buf generate produces descriptor sets"
    },
    {
      "id": "BUILD-007",
      "task": "Verify all generated files are up to date",
      "file": "gen/, Server/Sources/MacosUseProto/",
      "status": "pending",
      "verification": "make generate produces no diff"
    },
    {
      "id": "EXP-001",
      "task": "Verify HighlightTraversalTool compiles",
      "file": "Sources/HighlightTraversalTool/main.swift",
      "status": "pending",
      "verification": "HighlightTraversalTool builds without errors"
    },
    {
      "id": "EXP-002",
      "task": "Verify VisualInputTool compiles",
      "file": "Sources/VisualInputTool/main.swift",
      "status": "pending",
      "verification": "VisualInputTool builds without errors"
    },
    {
      "id": "EXP-003",
      "task": "Verify InputControllerTool compiles",
      "file": "Sources/InputControllerTool/main.swift",
      "status": "pending",
      "verification": "InputControllerTool builds without errors"
    },
    {
      "id": "EXP-004",
      "task": "Verify ActionTool compiles",
      "file": "Sources/ActionTool/main.swift",
      "status": "pending",
      "verification": "ActionTool builds without errors"
    },
    {
      "id": "EXP-005",
      "task": "Verify AppOpenerTool compiles",
      "file": "Sources/AppOpenerTool/main.swift",
      "status": "pending",
      "verification": "AppOpenerTool builds without errors"
    },
    {
      "id": "EXP-006",
      "task": "Verify TraversalTool compiles",
      "file": "Sources/TraversalTool/main.swift",
      "status": "pending",
      "verification": "TraversalTool builds without errors"
    },
    {
      "id": "EXP-007",
      "task": "Verify Sources/MacosUseSDK compiles",
      "file": "Sources/MacosUseSDK/",
      "status": "pending",
      "verification": "Sources/MacosUseSDK builds without errors"
    },
    {
      "id": "EXP-008",
      "task": "Verify Tests/MacosUseSDKTests compiles",
      "file": "Tests/MacosUseSDKTests/",
      "status": "pending",
      "verification": "Tests/MacosUseSDKTests builds without errors"
    },
    {
      "id": "VER-001",
      "task": "Verify all 77 MCP tools are accessible via stdio transport",
      "file": "cmd/macos-use-mcp/main.go",
      "status": "pending",
      "verification": "All tools respond via stdio transport"
    },
    {
      "id": "VER-002",
      "task": "Verify all 77 MCP tools are accessible via SSE transport",
      "file": "cmd/macos-use-mcp/main.go",
      "status": "pending",
      "verification": "All tools respond via SSE transport"
    },
    {
      "id": "VER-003",
      "task": "Verify gRPC reflection shows all services",
      "file": "Server/Sources/MacosUseServer/main.swift",
      "status": "pending",
      "verification": "grpcurl lists MacosUse service and Operations service"
    },
    {
      "id": "VER-004",
      "task": "Verify long-running operations polling works",
      "file": "internal/server/application.go",
      "status": "pending",
      "verification": "OpenApplication LRO can be polled to completion"
    },
    {
      "id": "VER-005",
      "task": "Verify observation streaming works",
      "file": "internal/server/observation.go",
      "status": "pending",
      "verification": "StreamObservations returns events via gRPC stream"
    },
    {
      "id": "VER-006",
      "task": "Verify accessibility streaming works",
      "file": "internal/server/element.go",
      "status": "pending",
      "verification": "WatchAccessibility returns updates via gRPC stream"
    },
    {
      "id": "VER-007",
      "task": "Verify clipboard write clears before write",
      "file": "internal/server/clipboard.go",
      "status": "pending",
      "verification": "WriteClipboard clears pasteboard before writing"
    },
    {
      "id": "VER-008",
      "task": "Verify screenshot capture with OCR",
      "file": "internal/server/screenshot.go",
      "status": "pending",
      "verification": "include_ocr parameter extracts text from image"
    },
    {
      "id": "VER-009",
      "task": "Verify script execution with timeout",
      "file": "internal/server/scripting.go",
      "status": "pending",
      "verification": "Scripts respect timeout parameter"
    },
    {
      "id": "VER-010",
      "task": "Verify macro execution with parameters",
      "file": "internal/server/session.go",
      "status": "pending",
      "verification": "parameter_values are substituted in macro"
    }
  ]
}