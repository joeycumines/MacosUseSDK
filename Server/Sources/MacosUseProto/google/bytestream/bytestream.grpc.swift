// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// DO NOT EDIT.
// swift-format-ignore-file
// swiftlint:disable all
//
// Generated by the gRPC Swift generator plugin for the protocol buffer compiler.
// Source: google/bytestream/bytestream.proto
//
// For information on using the generated types, please see the documentation:
//   https://github.com/grpc/grpc-swift

import GRPCCore
import GRPCProtobuf

// MARK: - google.bytestream.ByteStream

/// Namespace containing generated types for the "google.bytestream.ByteStream" service.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
public enum Google_Bytestream_ByteStream: Sendable {
    /// Service descriptor for the "google.bytestream.ByteStream" service.
    public static let descriptor = GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.bytestream.ByteStream")
    /// Namespace for method metadata.
    public enum Method: Sendable {
        /// Namespace for "Read" metadata.
        public enum Read: Sendable {
            /// Request type for "Read".
            public typealias Input = Google_Bytestream_ReadRequest
            /// Response type for "Read".
            public typealias Output = Google_Bytestream_ReadResponse
            /// Descriptor for "Read".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.bytestream.ByteStream"),
                method: "Read"
            )
        }
        /// Namespace for "Write" metadata.
        public enum Write: Sendable {
            /// Request type for "Write".
            public typealias Input = Google_Bytestream_WriteRequest
            /// Response type for "Write".
            public typealias Output = Google_Bytestream_WriteResponse
            /// Descriptor for "Write".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.bytestream.ByteStream"),
                method: "Write"
            )
        }
        /// Namespace for "QueryWriteStatus" metadata.
        public enum QueryWriteStatus: Sendable {
            /// Request type for "QueryWriteStatus".
            public typealias Input = Google_Bytestream_QueryWriteStatusRequest
            /// Response type for "QueryWriteStatus".
            public typealias Output = Google_Bytestream_QueryWriteStatusResponse
            /// Descriptor for "QueryWriteStatus".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.bytestream.ByteStream"),
                method: "QueryWriteStatus"
            )
        }
        /// Descriptors for all methods in the "google.bytestream.ByteStream" service.
        public static let descriptors: [GRPCCore.MethodDescriptor] = [
            Read.descriptor,
            Write.descriptor,
            QueryWriteStatus.descriptor
        ]
    }
}

@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension GRPCCore.ServiceDescriptor {
    /// Service descriptor for the "google.bytestream.ByteStream" service.
    public static let google_bytestream_ByteStream = GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.bytestream.ByteStream")
}

// MARK: google.bytestream.ByteStream (server)

@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Bytestream_ByteStream {
    /// Streaming variant of the service protocol for the "google.bytestream.ByteStream" service.
    ///
    /// This protocol is the lowest-level of the service protocols generated for this service
    /// giving you the most flexibility over the implementation of your service. This comes at
    /// the cost of more verbose and less strict APIs. Each RPC requires you to implement it in
    /// terms of a request stream and response stream. Where only a single request or response
    /// message is expected, you are responsible for enforcing this invariant is maintained.
    ///
    /// Where possible, prefer using the stricter, less-verbose ``ServiceProtocol``
    /// or ``SimpleServiceProtocol`` instead.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > #### Introduction
    /// > 
    /// > The Byte Stream API enables a client to read and write a stream of bytes to
    /// > and from a resource. Resources have names, and these names are supplied in
    /// > the API calls below to identify the resource that is being read from or
    /// > written to.
    /// > 
    /// > All implementations of the Byte Stream API export the interface defined here:
    /// > 
    /// > * `Read()`: Reads the contents of a resource.
    /// > 
    /// > * `Write()`: Writes the contents of a resource. The client can call `Write()`
    /// >   multiple times with the same resource and can check the status of the write
    /// >   by calling `QueryWriteStatus()`.
    /// > 
    /// > #### Service parameters and metadata
    /// > 
    /// > The ByteStream API provides no direct way to access/modify any metadata
    /// > associated with the resource.
    /// > 
    /// > #### Errors
    /// > 
    /// > The errors returned by the service are in the Google canonical error space.
    public protocol StreamingServiceProtocol: GRPCCore.RegistrableRPCService {
        /// Handle the "Read" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Read()` is used to retrieve the contents of a resource as a sequence
        /// > of bytes. The bytes are returned in a sequence of responses, and the
        /// > responses are delivered as the results of a server-side streaming RPC.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Bytestream_ReadRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Bytestream_ReadResponse` messages.
        func read(
            request: GRPCCore.StreamingServerRequest<Google_Bytestream_ReadRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_ReadResponse>

        /// Handle the "Write" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Write()` is used to send the contents of a resource as a sequence of
        /// > bytes. The bytes are sent in a sequence of request protos of a client-side
        /// > streaming RPC.
        /// > 
        /// > A `Write()` action is resumable. If there is an error or the connection is
        /// > broken during the `Write()`, the client should check the status of the
        /// > `Write()` by calling `QueryWriteStatus()` and continue writing from the
        /// > returned `committed_size`. This may be less than the amount of data the
        /// > client previously sent.
        /// > 
        /// > Calling `Write()` on a resource name that was previously written and
        /// > finalized could cause an error, depending on whether the underlying service
        /// > allows over-writing of previously written resources.
        /// > 
        /// > When the client closes the request channel, the service will respond with
        /// > a `WriteResponse`. The service will not view the resource as `complete`
        /// > until the client has sent a `WriteRequest` with `finish_write` set to
        /// > `true`. Sending any requests on a stream after sending a request with
        /// > `finish_write` set to `true` will cause an error. The client **should**
        /// > check the `WriteResponse` it receives to determine how much data the
        /// > service was able to commit and whether the service views the resource as
        /// > `complete` or not.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Bytestream_WriteRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Bytestream_WriteResponse` messages.
        func write(
            request: GRPCCore.StreamingServerRequest<Google_Bytestream_WriteRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_WriteResponse>

        /// Handle the "QueryWriteStatus" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `QueryWriteStatus()` is used to find the `committed_size` for a resource
        /// > that is being written, which can then be used as the `write_offset` for
        /// > the next `Write()` call.
        /// > 
        /// > If the resource does not exist (i.e., the resource has been deleted, or the
        /// > first `Write()` has not yet reached the service), this method returns the
        /// > error `NOT_FOUND`.
        /// > 
        /// > The client **may** call `QueryWriteStatus()` at any time to determine how
        /// > much data has been processed for this resource. This is useful if the
        /// > client is buffering data and needs to know which data can be safely
        /// > evicted. For any sequence of `QueryWriteStatus()` calls for a given
        /// > resource name, the sequence of returned `committed_size` values will be
        /// > non-decreasing.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Bytestream_QueryWriteStatusRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Bytestream_QueryWriteStatusResponse` messages.
        func queryWriteStatus(
            request: GRPCCore.StreamingServerRequest<Google_Bytestream_QueryWriteStatusRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_QueryWriteStatusResponse>
    }

    /// Service protocol for the "google.bytestream.ByteStream" service.
    ///
    /// This protocol is higher level than ``StreamingServiceProtocol`` but lower level than
    /// the ``SimpleServiceProtocol``, it provides access to request and response metadata and
    /// trailing response metadata. If you don't need these then consider using
    /// the ``SimpleServiceProtocol``. If you need fine grained control over your RPCs then
    /// use ``StreamingServiceProtocol``.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > #### Introduction
    /// > 
    /// > The Byte Stream API enables a client to read and write a stream of bytes to
    /// > and from a resource. Resources have names, and these names are supplied in
    /// > the API calls below to identify the resource that is being read from or
    /// > written to.
    /// > 
    /// > All implementations of the Byte Stream API export the interface defined here:
    /// > 
    /// > * `Read()`: Reads the contents of a resource.
    /// > 
    /// > * `Write()`: Writes the contents of a resource. The client can call `Write()`
    /// >   multiple times with the same resource and can check the status of the write
    /// >   by calling `QueryWriteStatus()`.
    /// > 
    /// > #### Service parameters and metadata
    /// > 
    /// > The ByteStream API provides no direct way to access/modify any metadata
    /// > associated with the resource.
    /// > 
    /// > #### Errors
    /// > 
    /// > The errors returned by the service are in the Google canonical error space.
    public protocol ServiceProtocol: Google_Bytestream_ByteStream.StreamingServiceProtocol {
        /// Handle the "Read" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Read()` is used to retrieve the contents of a resource as a sequence
        /// > of bytes. The bytes are returned in a sequence of responses, and the
        /// > responses are delivered as the results of a server-side streaming RPC.
        ///
        /// - Parameters:
        ///   - request: A request containing a single `Google_Bytestream_ReadRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Bytestream_ReadResponse` messages.
        func read(
            request: GRPCCore.ServerRequest<Google_Bytestream_ReadRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_ReadResponse>

        /// Handle the "Write" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Write()` is used to send the contents of a resource as a sequence of
        /// > bytes. The bytes are sent in a sequence of request protos of a client-side
        /// > streaming RPC.
        /// > 
        /// > A `Write()` action is resumable. If there is an error or the connection is
        /// > broken during the `Write()`, the client should check the status of the
        /// > `Write()` by calling `QueryWriteStatus()` and continue writing from the
        /// > returned `committed_size`. This may be less than the amount of data the
        /// > client previously sent.
        /// > 
        /// > Calling `Write()` on a resource name that was previously written and
        /// > finalized could cause an error, depending on whether the underlying service
        /// > allows over-writing of previously written resources.
        /// > 
        /// > When the client closes the request channel, the service will respond with
        /// > a `WriteResponse`. The service will not view the resource as `complete`
        /// > until the client has sent a `WriteRequest` with `finish_write` set to
        /// > `true`. Sending any requests on a stream after sending a request with
        /// > `finish_write` set to `true` will cause an error. The client **should**
        /// > check the `WriteResponse` it receives to determine how much data the
        /// > service was able to commit and whether the service views the resource as
        /// > `complete` or not.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Bytestream_WriteRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A response containing a single `Google_Bytestream_WriteResponse` message.
        func write(
            request: GRPCCore.StreamingServerRequest<Google_Bytestream_WriteRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.ServerResponse<Google_Bytestream_WriteResponse>

        /// Handle the "QueryWriteStatus" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `QueryWriteStatus()` is used to find the `committed_size` for a resource
        /// > that is being written, which can then be used as the `write_offset` for
        /// > the next `Write()` call.
        /// > 
        /// > If the resource does not exist (i.e., the resource has been deleted, or the
        /// > first `Write()` has not yet reached the service), this method returns the
        /// > error `NOT_FOUND`.
        /// > 
        /// > The client **may** call `QueryWriteStatus()` at any time to determine how
        /// > much data has been processed for this resource. This is useful if the
        /// > client is buffering data and needs to know which data can be safely
        /// > evicted. For any sequence of `QueryWriteStatus()` calls for a given
        /// > resource name, the sequence of returned `committed_size` values will be
        /// > non-decreasing.
        ///
        /// - Parameters:
        ///   - request: A request containing a single `Google_Bytestream_QueryWriteStatusRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A response containing a single `Google_Bytestream_QueryWriteStatusResponse` message.
        func queryWriteStatus(
            request: GRPCCore.ServerRequest<Google_Bytestream_QueryWriteStatusRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.ServerResponse<Google_Bytestream_QueryWriteStatusResponse>
    }

    /// Simple service protocol for the "google.bytestream.ByteStream" service.
    ///
    /// This is the highest level protocol for the service. The API is the easiest to use but
    /// doesn't provide access to request or response metadata. If you need access to these
    /// then use ``ServiceProtocol`` instead.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > #### Introduction
    /// > 
    /// > The Byte Stream API enables a client to read and write a stream of bytes to
    /// > and from a resource. Resources have names, and these names are supplied in
    /// > the API calls below to identify the resource that is being read from or
    /// > written to.
    /// > 
    /// > All implementations of the Byte Stream API export the interface defined here:
    /// > 
    /// > * `Read()`: Reads the contents of a resource.
    /// > 
    /// > * `Write()`: Writes the contents of a resource. The client can call `Write()`
    /// >   multiple times with the same resource and can check the status of the write
    /// >   by calling `QueryWriteStatus()`.
    /// > 
    /// > #### Service parameters and metadata
    /// > 
    /// > The ByteStream API provides no direct way to access/modify any metadata
    /// > associated with the resource.
    /// > 
    /// > #### Errors
    /// > 
    /// > The errors returned by the service are in the Google canonical error space.
    public protocol SimpleServiceProtocol: Google_Bytestream_ByteStream.ServiceProtocol {
        /// Handle the "Read" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Read()` is used to retrieve the contents of a resource as a sequence
        /// > of bytes. The bytes are returned in a sequence of responses, and the
        /// > responses are delivered as the results of a server-side streaming RPC.
        ///
        /// - Parameters:
        ///   - request: A `Google_Bytestream_ReadRequest` message.
        ///   - response: A response stream of `Google_Bytestream_ReadResponse` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        func read(
            request: Google_Bytestream_ReadRequest,
            response: GRPCCore.RPCWriter<Google_Bytestream_ReadResponse>,
            context: GRPCCore.ServerContext
        ) async throws

        /// Handle the "Write" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `Write()` is used to send the contents of a resource as a sequence of
        /// > bytes. The bytes are sent in a sequence of request protos of a client-side
        /// > streaming RPC.
        /// > 
        /// > A `Write()` action is resumable. If there is an error or the connection is
        /// > broken during the `Write()`, the client should check the status of the
        /// > `Write()` by calling `QueryWriteStatus()` and continue writing from the
        /// > returned `committed_size`. This may be less than the amount of data the
        /// > client previously sent.
        /// > 
        /// > Calling `Write()` on a resource name that was previously written and
        /// > finalized could cause an error, depending on whether the underlying service
        /// > allows over-writing of previously written resources.
        /// > 
        /// > When the client closes the request channel, the service will respond with
        /// > a `WriteResponse`. The service will not view the resource as `complete`
        /// > until the client has sent a `WriteRequest` with `finish_write` set to
        /// > `true`. Sending any requests on a stream after sending a request with
        /// > `finish_write` set to `true` will cause an error. The client **should**
        /// > check the `WriteResponse` it receives to determine how much data the
        /// > service was able to commit and whether the service views the resource as
        /// > `complete` or not.
        ///
        /// - Parameters:
        ///   - request: A stream of `Google_Bytestream_WriteRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A `Google_Bytestream_WriteResponse` to respond with.
        func write(
            request: GRPCCore.RPCAsyncSequence<Google_Bytestream_WriteRequest, any Swift.Error>,
            context: GRPCCore.ServerContext
        ) async throws -> Google_Bytestream_WriteResponse

        /// Handle the "QueryWriteStatus" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > `QueryWriteStatus()` is used to find the `committed_size` for a resource
        /// > that is being written, which can then be used as the `write_offset` for
        /// > the next `Write()` call.
        /// > 
        /// > If the resource does not exist (i.e., the resource has been deleted, or the
        /// > first `Write()` has not yet reached the service), this method returns the
        /// > error `NOT_FOUND`.
        /// > 
        /// > The client **may** call `QueryWriteStatus()` at any time to determine how
        /// > much data has been processed for this resource. This is useful if the
        /// > client is buffering data and needs to know which data can be safely
        /// > evicted. For any sequence of `QueryWriteStatus()` calls for a given
        /// > resource name, the sequence of returned `committed_size` values will be
        /// > non-decreasing.
        ///
        /// - Parameters:
        ///   - request: A `Google_Bytestream_QueryWriteStatusRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A `Google_Bytestream_QueryWriteStatusResponse` to respond with.
        func queryWriteStatus(
            request: Google_Bytestream_QueryWriteStatusRequest,
            context: GRPCCore.ServerContext
        ) async throws -> Google_Bytestream_QueryWriteStatusResponse
    }
}

// Default implementation of 'registerMethods(with:)'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Bytestream_ByteStream.StreamingServiceProtocol {
    public func registerMethods<Transport>(with router: inout GRPCCore.RPCRouter<Transport>) where Transport: GRPCCore.ServerTransport {
        router.registerHandler(
            forMethod: Google_Bytestream_ByteStream.Method.Read.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Bytestream_ReadRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Bytestream_ReadResponse>(),
            handler: { request, context in
                try await self.read(
                    request: request,
                    context: context
                )
            }
        )
        router.registerHandler(
            forMethod: Google_Bytestream_ByteStream.Method.Write.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Bytestream_WriteRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Bytestream_WriteResponse>(),
            handler: { request, context in
                try await self.write(
                    request: request,
                    context: context
                )
            }
        )
        router.registerHandler(
            forMethod: Google_Bytestream_ByteStream.Method.QueryWriteStatus.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Bytestream_QueryWriteStatusRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Bytestream_QueryWriteStatusResponse>(),
            handler: { request, context in
                try await self.queryWriteStatus(
                    request: request,
                    context: context
                )
            }
        )
    }
}

// Default implementation of streaming methods from 'StreamingServiceProtocol'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Bytestream_ByteStream.ServiceProtocol {
    public func read(
        request: GRPCCore.StreamingServerRequest<Google_Bytestream_ReadRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_ReadResponse> {
        let response = try await self.read(
            request: GRPCCore.ServerRequest(stream: request),
            context: context
        )
        return response
    }

    public func write(
        request: GRPCCore.StreamingServerRequest<Google_Bytestream_WriteRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_WriteResponse> {
        let response = try await self.write(
            request: request,
            context: context
        )
        return GRPCCore.StreamingServerResponse(single: response)
    }

    public func queryWriteStatus(
        request: GRPCCore.StreamingServerRequest<Google_Bytestream_QueryWriteStatusRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_QueryWriteStatusResponse> {
        let response = try await self.queryWriteStatus(
            request: GRPCCore.ServerRequest(stream: request),
            context: context
        )
        return GRPCCore.StreamingServerResponse(single: response)
    }
}

// Default implementation of methods from 'ServiceProtocol'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Bytestream_ByteStream.SimpleServiceProtocol {
    public func read(
        request: GRPCCore.ServerRequest<Google_Bytestream_ReadRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Bytestream_ReadResponse> {
        return GRPCCore.StreamingServerResponse<Google_Bytestream_ReadResponse>(
            metadata: [:],
            producer: { writer in
                try await self.read(
                    request: request.message,
                    response: writer,
                    context: context
                )
                return [:]
            }
        )
    }

    public func write(
        request: GRPCCore.StreamingServerRequest<Google_Bytestream_WriteRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.ServerResponse<Google_Bytestream_WriteResponse> {
        return GRPCCore.ServerResponse<Google_Bytestream_WriteResponse>(
            message: try await self.write(
                request: request.messages,
                context: context
            ),
            metadata: [:]
        )
    }

    public func queryWriteStatus(
        request: GRPCCore.ServerRequest<Google_Bytestream_QueryWriteStatusRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.ServerResponse<Google_Bytestream_QueryWriteStatusResponse> {
        return GRPCCore.ServerResponse<Google_Bytestream_QueryWriteStatusResponse>(
            message: try await self.queryWriteStatus(
                request: request.message,
                context: context
            ),
            metadata: [:]
        )
    }
}