// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// DO NOT EDIT.
// swift-format-ignore-file
// swiftlint:disable all
//
// Generated by the gRPC Swift generator plugin for the protocol buffer compiler.
// Source: google/iam/v1/iam_policy.proto
//
// For information on using the generated types, please see the documentation:
//   https://github.com/grpc/grpc-swift

import GRPCCore
import GRPCProtobuf

// MARK: - google.iam.v1.IAMPolicy

/// Namespace containing generated types for the "google.iam.v1.IAMPolicy" service.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
public enum Google_Iam_V1_IAMPolicy: Sendable {
    /// Service descriptor for the "google.iam.v1.IAMPolicy" service.
    public static let descriptor = GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.iam.v1.IAMPolicy")
    /// Namespace for method metadata.
    public enum Method: Sendable {
        /// Namespace for "SetIamPolicy" metadata.
        public enum SetIamPolicy: Sendable {
            /// Request type for "SetIamPolicy".
            public typealias Input = Google_Iam_V1_SetIamPolicyRequest
            /// Response type for "SetIamPolicy".
            public typealias Output = Google_Iam_V1_Policy
            /// Descriptor for "SetIamPolicy".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.iam.v1.IAMPolicy"),
                method: "SetIamPolicy"
            )
        }
        /// Namespace for "GetIamPolicy" metadata.
        public enum GetIamPolicy: Sendable {
            /// Request type for "GetIamPolicy".
            public typealias Input = Google_Iam_V1_GetIamPolicyRequest
            /// Response type for "GetIamPolicy".
            public typealias Output = Google_Iam_V1_Policy
            /// Descriptor for "GetIamPolicy".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.iam.v1.IAMPolicy"),
                method: "GetIamPolicy"
            )
        }
        /// Namespace for "TestIamPermissions" metadata.
        public enum TestIamPermissions: Sendable {
            /// Request type for "TestIamPermissions".
            public typealias Input = Google_Iam_V1_TestIamPermissionsRequest
            /// Response type for "TestIamPermissions".
            public typealias Output = Google_Iam_V1_TestIamPermissionsResponse
            /// Descriptor for "TestIamPermissions".
            public static let descriptor = GRPCCore.MethodDescriptor(
                service: GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.iam.v1.IAMPolicy"),
                method: "TestIamPermissions"
            )
        }
        /// Descriptors for all methods in the "google.iam.v1.IAMPolicy" service.
        public static let descriptors: [GRPCCore.MethodDescriptor] = [
            SetIamPolicy.descriptor,
            GetIamPolicy.descriptor,
            TestIamPermissions.descriptor
        ]
    }
}

@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension GRPCCore.ServiceDescriptor {
    /// Service descriptor for the "google.iam.v1.IAMPolicy" service.
    public static let google_iam_v1_IAMPolicy = GRPCCore.ServiceDescriptor(fullyQualifiedService: "google.iam.v1.IAMPolicy")
}

// MARK: google.iam.v1.IAMPolicy (server)

@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Iam_V1_IAMPolicy {
    /// Streaming variant of the service protocol for the "google.iam.v1.IAMPolicy" service.
    ///
    /// This protocol is the lowest-level of the service protocols generated for this service
    /// giving you the most flexibility over the implementation of your service. This comes at
    /// the cost of more verbose and less strict APIs. Each RPC requires you to implement it in
    /// terms of a request stream and response stream. Where only a single request or response
    /// message is expected, you are responsible for enforcing this invariant is maintained.
    ///
    /// Where possible, prefer using the stricter, less-verbose ``ServiceProtocol``
    /// or ``SimpleServiceProtocol`` instead.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > API Overview
    /// > 
    /// > Manages Identity and Access Management (IAM) policies.
    /// > 
    /// > Any implementation of an API that offers access control features
    /// > implements the google.iam.v1.IAMPolicy interface.
    /// > 
    /// > ## Data model
    /// > 
    /// > Access control is applied when a principal (user or service account), takes
    /// > some action on a resource exposed by a service. Resources, identified by
    /// > URI-like names, are the unit of access control specification. Service
    /// > implementations can choose the granularity of access control and the
    /// > supported permissions for their resources.
    /// > For example one database service may allow access control to be
    /// > specified only at the Table level, whereas another might allow access control
    /// > to also be specified at the Column level.
    /// > 
    /// > ## Policy Structure
    /// > 
    /// > See google.iam.v1.Policy
    /// > 
    /// > This is intentionally not a CRUD style API because access control policies
    /// > are created and deleted implicitly with the resources to which they are
    /// > attached.
    public protocol StreamingServiceProtocol: GRPCCore.RegistrableRPCService {
        /// Handle the "SetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Sets the access control policy on the specified resource. Replaces any
        /// > existing policy.
        /// > 
        /// > Can return `NOT_FOUND`, `INVALID_ARGUMENT`, and `PERMISSION_DENIED` errors.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Iam_V1_SetIamPolicyRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Iam_V1_Policy` messages.
        func setIamPolicy(
            request: GRPCCore.StreamingServerRequest<Google_Iam_V1_SetIamPolicyRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_Policy>

        /// Handle the "GetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Gets the access control policy for a resource.
        /// > Returns an empty policy if the resource exists and does not have a policy
        /// > set.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Iam_V1_GetIamPolicyRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Iam_V1_Policy` messages.
        func getIamPolicy(
            request: GRPCCore.StreamingServerRequest<Google_Iam_V1_GetIamPolicyRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_Policy>

        /// Handle the "TestIamPermissions" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Returns permissions that a caller has on the specified resource.
        /// > If the resource does not exist, this will return an empty set of
        /// > permissions, not a `NOT_FOUND` error.
        /// > 
        /// > Note: This operation is designed to be used for building permission-aware
        /// > UIs and command-line tools, not for authorization checking. This operation
        /// > may "fail open" without warning.
        ///
        /// - Parameters:
        ///   - request: A streaming request of `Google_Iam_V1_TestIamPermissionsRequest` messages.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A streaming response of `Google_Iam_V1_TestIamPermissionsResponse` messages.
        func testIamPermissions(
            request: GRPCCore.StreamingServerRequest<Google_Iam_V1_TestIamPermissionsRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_TestIamPermissionsResponse>
    }

    /// Service protocol for the "google.iam.v1.IAMPolicy" service.
    ///
    /// This protocol is higher level than ``StreamingServiceProtocol`` but lower level than
    /// the ``SimpleServiceProtocol``, it provides access to request and response metadata and
    /// trailing response metadata. If you don't need these then consider using
    /// the ``SimpleServiceProtocol``. If you need fine grained control over your RPCs then
    /// use ``StreamingServiceProtocol``.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > API Overview
    /// > 
    /// > Manages Identity and Access Management (IAM) policies.
    /// > 
    /// > Any implementation of an API that offers access control features
    /// > implements the google.iam.v1.IAMPolicy interface.
    /// > 
    /// > ## Data model
    /// > 
    /// > Access control is applied when a principal (user or service account), takes
    /// > some action on a resource exposed by a service. Resources, identified by
    /// > URI-like names, are the unit of access control specification. Service
    /// > implementations can choose the granularity of access control and the
    /// > supported permissions for their resources.
    /// > For example one database service may allow access control to be
    /// > specified only at the Table level, whereas another might allow access control
    /// > to also be specified at the Column level.
    /// > 
    /// > ## Policy Structure
    /// > 
    /// > See google.iam.v1.Policy
    /// > 
    /// > This is intentionally not a CRUD style API because access control policies
    /// > are created and deleted implicitly with the resources to which they are
    /// > attached.
    public protocol ServiceProtocol: Google_Iam_V1_IAMPolicy.StreamingServiceProtocol {
        /// Handle the "SetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Sets the access control policy on the specified resource. Replaces any
        /// > existing policy.
        /// > 
        /// > Can return `NOT_FOUND`, `INVALID_ARGUMENT`, and `PERMISSION_DENIED` errors.
        ///
        /// - Parameters:
        ///   - request: A request containing a single `Google_Iam_V1_SetIamPolicyRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A response containing a single `Google_Iam_V1_Policy` message.
        func setIamPolicy(
            request: GRPCCore.ServerRequest<Google_Iam_V1_SetIamPolicyRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_Policy>

        /// Handle the "GetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Gets the access control policy for a resource.
        /// > Returns an empty policy if the resource exists and does not have a policy
        /// > set.
        ///
        /// - Parameters:
        ///   - request: A request containing a single `Google_Iam_V1_GetIamPolicyRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A response containing a single `Google_Iam_V1_Policy` message.
        func getIamPolicy(
            request: GRPCCore.ServerRequest<Google_Iam_V1_GetIamPolicyRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_Policy>

        /// Handle the "TestIamPermissions" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Returns permissions that a caller has on the specified resource.
        /// > If the resource does not exist, this will return an empty set of
        /// > permissions, not a `NOT_FOUND` error.
        /// > 
        /// > Note: This operation is designed to be used for building permission-aware
        /// > UIs and command-line tools, not for authorization checking. This operation
        /// > may "fail open" without warning.
        ///
        /// - Parameters:
        ///   - request: A request containing a single `Google_Iam_V1_TestIamPermissionsRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A response containing a single `Google_Iam_V1_TestIamPermissionsResponse` message.
        func testIamPermissions(
            request: GRPCCore.ServerRequest<Google_Iam_V1_TestIamPermissionsRequest>,
            context: GRPCCore.ServerContext
        ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_TestIamPermissionsResponse>
    }

    /// Simple service protocol for the "google.iam.v1.IAMPolicy" service.
    ///
    /// This is the highest level protocol for the service. The API is the easiest to use but
    /// doesn't provide access to request or response metadata. If you need access to these
    /// then use ``ServiceProtocol`` instead.
    ///
    /// > Source IDL Documentation:
    /// >
    /// > API Overview
    /// > 
    /// > Manages Identity and Access Management (IAM) policies.
    /// > 
    /// > Any implementation of an API that offers access control features
    /// > implements the google.iam.v1.IAMPolicy interface.
    /// > 
    /// > ## Data model
    /// > 
    /// > Access control is applied when a principal (user or service account), takes
    /// > some action on a resource exposed by a service. Resources, identified by
    /// > URI-like names, are the unit of access control specification. Service
    /// > implementations can choose the granularity of access control and the
    /// > supported permissions for their resources.
    /// > For example one database service may allow access control to be
    /// > specified only at the Table level, whereas another might allow access control
    /// > to also be specified at the Column level.
    /// > 
    /// > ## Policy Structure
    /// > 
    /// > See google.iam.v1.Policy
    /// > 
    /// > This is intentionally not a CRUD style API because access control policies
    /// > are created and deleted implicitly with the resources to which they are
    /// > attached.
    public protocol SimpleServiceProtocol: Google_Iam_V1_IAMPolicy.ServiceProtocol {
        /// Handle the "SetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Sets the access control policy on the specified resource. Replaces any
        /// > existing policy.
        /// > 
        /// > Can return `NOT_FOUND`, `INVALID_ARGUMENT`, and `PERMISSION_DENIED` errors.
        ///
        /// - Parameters:
        ///   - request: A `Google_Iam_V1_SetIamPolicyRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A `Google_Iam_V1_Policy` to respond with.
        func setIamPolicy(
            request: Google_Iam_V1_SetIamPolicyRequest,
            context: GRPCCore.ServerContext
        ) async throws -> Google_Iam_V1_Policy

        /// Handle the "GetIamPolicy" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Gets the access control policy for a resource.
        /// > Returns an empty policy if the resource exists and does not have a policy
        /// > set.
        ///
        /// - Parameters:
        ///   - request: A `Google_Iam_V1_GetIamPolicyRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A `Google_Iam_V1_Policy` to respond with.
        func getIamPolicy(
            request: Google_Iam_V1_GetIamPolicyRequest,
            context: GRPCCore.ServerContext
        ) async throws -> Google_Iam_V1_Policy

        /// Handle the "TestIamPermissions" method.
        ///
        /// > Source IDL Documentation:
        /// >
        /// > Returns permissions that a caller has on the specified resource.
        /// > If the resource does not exist, this will return an empty set of
        /// > permissions, not a `NOT_FOUND` error.
        /// > 
        /// > Note: This operation is designed to be used for building permission-aware
        /// > UIs and command-line tools, not for authorization checking. This operation
        /// > may "fail open" without warning.
        ///
        /// - Parameters:
        ///   - request: A `Google_Iam_V1_TestIamPermissionsRequest` message.
        ///   - context: Context providing information about the RPC.
        /// - Throws: Any error which occurred during the processing of the request. Thrown errors
        ///     of type `RPCError` are mapped to appropriate statuses. All other errors are converted
        ///     to an internal error.
        /// - Returns: A `Google_Iam_V1_TestIamPermissionsResponse` to respond with.
        func testIamPermissions(
            request: Google_Iam_V1_TestIamPermissionsRequest,
            context: GRPCCore.ServerContext
        ) async throws -> Google_Iam_V1_TestIamPermissionsResponse
    }
}

// Default implementation of 'registerMethods(with:)'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Iam_V1_IAMPolicy.StreamingServiceProtocol {
    public func registerMethods<Transport>(with router: inout GRPCCore.RPCRouter<Transport>) where Transport: GRPCCore.ServerTransport {
        router.registerHandler(
            forMethod: Google_Iam_V1_IAMPolicy.Method.SetIamPolicy.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Iam_V1_SetIamPolicyRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Iam_V1_Policy>(),
            handler: { request, context in
                try await self.setIamPolicy(
                    request: request,
                    context: context
                )
            }
        )
        router.registerHandler(
            forMethod: Google_Iam_V1_IAMPolicy.Method.GetIamPolicy.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Iam_V1_GetIamPolicyRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Iam_V1_Policy>(),
            handler: { request, context in
                try await self.getIamPolicy(
                    request: request,
                    context: context
                )
            }
        )
        router.registerHandler(
            forMethod: Google_Iam_V1_IAMPolicy.Method.TestIamPermissions.descriptor,
            deserializer: GRPCProtobuf.ProtobufDeserializer<Google_Iam_V1_TestIamPermissionsRequest>(),
            serializer: GRPCProtobuf.ProtobufSerializer<Google_Iam_V1_TestIamPermissionsResponse>(),
            handler: { request, context in
                try await self.testIamPermissions(
                    request: request,
                    context: context
                )
            }
        )
    }
}

// Default implementation of streaming methods from 'StreamingServiceProtocol'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Iam_V1_IAMPolicy.ServiceProtocol {
    public func setIamPolicy(
        request: GRPCCore.StreamingServerRequest<Google_Iam_V1_SetIamPolicyRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_Policy> {
        let response = try await self.setIamPolicy(
            request: GRPCCore.ServerRequest(stream: request),
            context: context
        )
        return GRPCCore.StreamingServerResponse(single: response)
    }

    public func getIamPolicy(
        request: GRPCCore.StreamingServerRequest<Google_Iam_V1_GetIamPolicyRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_Policy> {
        let response = try await self.getIamPolicy(
            request: GRPCCore.ServerRequest(stream: request),
            context: context
        )
        return GRPCCore.StreamingServerResponse(single: response)
    }

    public func testIamPermissions(
        request: GRPCCore.StreamingServerRequest<Google_Iam_V1_TestIamPermissionsRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.StreamingServerResponse<Google_Iam_V1_TestIamPermissionsResponse> {
        let response = try await self.testIamPermissions(
            request: GRPCCore.ServerRequest(stream: request),
            context: context
        )
        return GRPCCore.StreamingServerResponse(single: response)
    }
}

// Default implementation of methods from 'ServiceProtocol'.
@available(macOS 15.0, iOS 18.0, watchOS 11.0, tvOS 18.0, visionOS 2.0, *)
extension Google_Iam_V1_IAMPolicy.SimpleServiceProtocol {
    public func setIamPolicy(
        request: GRPCCore.ServerRequest<Google_Iam_V1_SetIamPolicyRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_Policy> {
        return GRPCCore.ServerResponse<Google_Iam_V1_Policy>(
            message: try await self.setIamPolicy(
                request: request.message,
                context: context
            ),
            metadata: [:]
        )
    }

    public func getIamPolicy(
        request: GRPCCore.ServerRequest<Google_Iam_V1_GetIamPolicyRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_Policy> {
        return GRPCCore.ServerResponse<Google_Iam_V1_Policy>(
            message: try await self.getIamPolicy(
                request: request.message,
                context: context
            ),
            metadata: [:]
        )
    }

    public func testIamPermissions(
        request: GRPCCore.ServerRequest<Google_Iam_V1_TestIamPermissionsRequest>,
        context: GRPCCore.ServerContext
    ) async throws -> GRPCCore.ServerResponse<Google_Iam_V1_TestIamPermissionsResponse> {
        return GRPCCore.ServerResponse<Google_Iam_V1_TestIamPermissionsResponse>(
            message: try await self.testIamPermissions(
                request: request.message,
                context: context
            ),
            metadata: [:]
        )
    }
}